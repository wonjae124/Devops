# 0. what is Aiops?
- Devops를 포함하여, IT 운영상에 AI를 도입하는 것이다.
- AIOps를 활용하는 사례
 - 여러 IT 인프라 구성 요소, 애플리케이션, 성능 모니터링 도구를 통해 생성되는 방대한 양의 작업 데이터를 수집하고 집계한다.
 - 시스템 성능 및 가용성 문제와 관련된 중요한 이벤트 및 패턴을 식별하기 위해 ‘노이즈’에서 ‘신호’를 지능적으로 심층 조사한다.
 - 근본 원인을 진단하고 신속한 대응 및 조치를 위해 IT 팀에 보고한다. 또는 몇몇 경우에 사용자 개입 없이 자동으로 이러한 문제를 해결한다

- IBM의 AIOPS란?
 - 애플리케이션을 자동화
   -IBM의 AIOps 및 IT 자동화 솔루션은 기업이 IT 비용을 신속하게 절감하면서 앱 성능을 보장할 수 있도록 지원합니다.
   - 기업들은 IT 지출을 50% 절감하고, 인시던트 관리에서 최대 미화 2백만 달러를 줄이며, MTTR을 50% 감소시킬 수 있었습니다.
   - 또한 팀들은 앱을 75% 더 빠르게 디버깅할 수 있었습니다.
 - Aiops 기능
    - AI Manager: to ingest structured and unstructured data and train AI models to proactively manage problems and incidents. All alerts generated by AI Manager are published as a story in a ChatOps interface that NCHC staff use as the single source of truth for monitoring the exchange center
    - Event Manager: to import all network device logs via a pre-defined batch program, and to reduce network noise with event grouping, which will reduce operational costs significantly.
    - Metric Manager: to ingest all network device metric data, such as CPU, memory and disk usage, and provide a holistic view of device statuses.
- AIOps가 IT 운영 프로세스의 자동화를 위해서 확보해야 하는 빅데이터
  - 히스토리 성능 및 이벤트 데이터
  - 실시간 운영 이벤트 스트리밍
  - 시스템 로그 및 메트릭
  - 패킷 데이터를 포함한 네트워크 데이터
  - 사건 관련 데이터 및 티켓팅
  - 관련 문서 기반 데이터

# 1. 모니터링
- 애플리케이션의 성능과 같은 중요한 정보를 모니터링
 - 인프라 모니터링
   - 서버 메트릭 = 메모리, CPU, 디스크 성능 
 - 애플리케이션 성능 모니터링(APM)
   - APM 매트릭 = 요청 큐의 처리시간, 가비지 컬렉터, 페이지 로드 수, 트랜잭션 수, 응답 수, 요청 수
   - 이를 통해, 고객이 문제를 인식하기 전에 문제를 이해하고, 개선할 부분을 찾기 위한 필수 정보를 제공
      - ex. 문제를 발견하기 어려울시, 호출을 모니터링해서 소스 코드를 보지 않고도 애플리케이션이 수행 중인 작업을 확인 가능
      - ex. 두 마이크로서비스가 상호 간에 과도한 호출을 하는 등 비효율적인 패턴이 있는지 여부를 확인할 수 있다.
  - 경고, 알림
    - 이메일, sms 메세지   
  - 도구
    - 필요 시스템
      - 시스템의 모든 메트릭 수집, 집계
      - 경고 알림 제공
      - 시각화 가능, 대쉬보드에서 이를사용자 정의 가능   
<br/><br/>
# 2 쿠버네티스에서 에플리케이션 모니터링
- prometeus
  - 프로메테우스 서버 : 메트릭 수집
  - 익스포터 : 지원용 서버로, k8s와 같이 잘 알려진 서비스에서 기존 메트릭을 익스포트한다.
  - 알림매니저 : 경고 알림 전송
  - 푸시 게이트웨이 : 배치, 스케줄링 작업 등 일시적으로 실행되는 작업으로부터 메트릭 수 
<br/><br/>
# 3. metric mornitoring
- 톰캣 서버 로그를 모니터링하여 AI를 통한 상관관계 파악하여 핵심 원인을 찾고자 합니다.
- 이를 위해, prometheus metric을 사용합니다.   
- Grafana, kubenetes cluster mornitering 
<img src = "https://github.com/wonjae124/Devops/blob/main/image/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-03-16%2022-36-49.png" width=400>
<br/><br/>




#### 출처
- [Youtube - Webinar: Log Analysis with Machine Learning to Find Root Cause Faster](https://youtu.be/MpYB4Qcl570 )
- [slow-news](https://slownews.kr/86121)
<br/><br/><br/>
